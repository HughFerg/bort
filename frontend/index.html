<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BORT - Simpsons Scene Search</title>
    <meta name="description" content="Search The Simpsons scenes by character, action, or description. Find the perfect frame from thousands of indexed scenes.">
    <meta name="keywords" content="Simpsons, search, scenes, frames, Homer, Bart, Lisa, Marge, Springfield">

    <!-- Open Graph / Social -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="BORT - Simpsons Scene Search">
    <meta property="og:description" content="Search The Simpsons scenes by character, action, or description. Find the perfect frame instantly.">
    <meta property="og:site_name" content="BORT">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="BORT - Simpsons Scene Search">
    <meta name="twitter:description" content="Search The Simpsons scenes by character, action, or description.">

    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%23FFB6D9'/><circle cx='50' cy='50' r='20' fill='%23FFF'/><ellipse cx='45' cy='40' rx='8' ry='6' fill='%23FF69B4' opacity='0.6'/><ellipse cx='60' cy='45' rx='6' ry='5' fill='%23FF69B4' opacity='0.6'/><ellipse cx='50' cy='55' rx='7' ry='5' fill='%23FF69B4' opacity='0.6'/></svg>">
    <link rel="stylesheet" href="/static/styles.css?v=9">
</head>
<body>
    <header onclick="resetToLanding()" title="Click to return to home">
        <h1>BORT</h1>
        <p class="subtitle" id="subtitle">simpsons scene search</p>
    </header>

    <div class="search-container">
        <div class="search-box">
            <input
                type="text"
                id="query"
                placeholder="homer eating donuts, bart skateboarding..."
                onkeydown="if(event.key==='Enter') search()"
                autofocus
            >
            <button onclick="search()" id="searchBtn">Go!</button>
        </div>
        <div class="button-row">
            <button class="random-btn" onclick="randomFrame()">surprise me</button>
        </div>

        <div class="filters">
            <div class="filters-title">FILTERS</div>

            <div class="filter-group">
                <div class="filter-label">Season:</div>
                <div class="filter-pills" id="seasonFilters">
                    <!-- Populated dynamically based on indexed seasons -->
                </div>
            </div>

            <div id="activeFiltersContainer"></div>
        </div>

        <div class="examples">
            <button class="example-btn" onclick="searchExample('homer eating donuts')">üç© donuts</button>
            <button class="example-btn" onclick="searchExample('bart skateboard')">üõπ skateboard</button>
            <button class="example-btn" onclick="searchExample('mr burns excellent')">üòà excellent</button>
            <button class="example-btn" onclick="searchExample('moe tavern bar')">üç∫ moe's</button>
            <button class="example-btn" onclick="searchExample('couch gag')">üõãÔ∏è couch</button>
        </div>
    </div>

    <div class="stats" id="stats">Loading database stats...</div>

    <div id="results"></div>

    <div class="modal" id="modal" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <button class="modal-close" onclick="closeModal()">√ó</button>
            <img id="modalImage" src="" alt="">
            <div class="modal-info" id="modalInfo">
                <div class="modal-meta">
                    <span class="modal-episode" id="modalEpisode"></span>
                    <span class="modal-time" id="modalTime"></span>
                </div>
                <div class="modal-path" id="modalPath"></div>
                <div class="modal-buttons" id="modalButtons"></div>
            </div>
        </div>
    </div>

    <div class="bulk-actions" id="bulkActions">
        <button class="select-toggle-btn" id="selectToggle" onclick="toggleSelectMode()">Select</button>
        <span id="bulkCount">Select frames</span>
        <button class="bulk-delete-btn" onclick="bulkDelete()">Delete</button>
        <button class="bulk-clear-btn" onclick="clearSelection()">Clear</button>
    </div>

    <footer class="disclaimer">
        <div class="keyboard-hint">Press <kbd>/</kbd> to focus search, <kbd>Enter</kbd> to search</div>
        <p>
            This is a fan-made research/educational tool. The Simpsons and all related content
            are trademarks of and copyrighted by 20th Television and The Walt Disney Company.
            This site is not affiliated with or endorsed by the copyright holders.
            Used under fair use for non-commercial, educational purposes.
        </p>
        <p class="disclaimer-links">
            <a href="/legal">Legal Info</a>
        </p>
    </footer>

    <script src="/static/app.js?v=9"></script>
</body>
</html>
